## 前言

本文主要用于记录压缩与解压缩的基本概念，以及基本的压缩算法。<!-- more -->

## 基本概念

压缩其实是将数据换一种方式进行存储，以达到缩小存储空间的目的，解压缩用于将压缩后的数据复原成原数据。因此压缩也属于一种编码，常见的压缩算法有：deflate、gzip 等。其中 deflate 算法可将若干个文件压缩成一个 **zip** 文件。

压缩又分有损压缩和无损压缩，一般有损压缩用于图像、音视频，牺牲点图像信息换取更大的压缩比，其不可逆。

压缩示例：

原数据为：aaaaaaaaaabbbbbbbbbb

压缩后为：he:a10;b10

明显压缩后文本短了很多，降低了存储空间，当真正需要使用时，再将其转换为源文件。



媒体文件的解码其实是将内存中的图像数据转换为 jpg、png 等格式的文件。

媒体文件的编码其实是将 jpg、png 等格式的文件转换为内存中的图像信息。如 BitmapFactory.decode 这就是编码。



序列化，其实是将内存中的对象转换为字符序列的过程，比如将对象保存到本地文件，或者通过网络发送。只要满足上述这点就行了，因此 Json 属于一种序列化方式。

反序列化，其实就是将字符序列转换为内存对象的过程。

序列化的目的是让内存中的对象可以被保存和传输。



Hash 就是将任意数据转换为指定大小范围的数据，可以做为摘要和**数字指纹**。常见的 Hash 算法有 MD5、SHA1、SHA256。一般用途有两个：

1. 进行数据完整性校验，比如下载操作系统镜像，一般网站上会提供该问题通过 MD5 或者 SHA1、SHA256 计算过的 Hash 值，用户下载后可以进行校验。
2. 快速查找，hashCode、hash 表。重写 equals 必定需要重写 hashCode。
3. 隐私保护，不要明文保存用户密码，数据库应该存储用户密码的 hash 值，用户登录时对密码做 hash 值与数据库中存放的值进行比对。这样就可以防止数据库信息泄露后导致用户密码泄露，因此三方拿到 hash 值没什么用。因此现在网站都不提供密码找回，只能进行密码重置，因为它们也不知道用户的密码到底是什么。不过三方也可以建立彩虹表将常见密码的 hash 值保存起来，到时候进行检索。**因此很多网站其实会先给密码加盐**然后再计算 hash 值进行保存。

MD5 是 hash 算法但是不是加密算法，因为其无法解密，本地保存图片需要文件名需要 md5 的原因是，url 有特殊字符不能当做文件名。



字符集 就是数字到字符的映射，常见的有 ASCII、ISO-8859-1、Unicode（UTF-8、UTF-16）、GBK。



Cookie 是一种客户端帮助服务端记录数据的机制。通过响应头 Set-Cookie 保存数据，保存后浏览器请求时会自动带上 Cookie 请求头，每个域名都有若干个 Cookie。主要作用是保存购物车、登录状态（sessionId，不过现在基本没人用，都用 token 了）、偏爱设置（原理与 sessionId 差不多）、用户行为分析（网站接入三方平台，当访问网站时，如某个图片从三方平台加载，三方平台设置 Cookie ，这样就能把该用户访问的接入三方平台的网站数据分析出来便于推送广告）。Cookie 可以被 JS 获取，这会造成安全隐患，可以通过添加 httpOnly，防止被获取。



现在的登录一般用的是 Authorization 请求头，格式为 Authorization: Basic username:password 其中 Basic 后面·需要进行 Base64Encode，使用 Http 会泄漏密码，因此必须使用 Https。测试接口为 https://api.github.com/notifications